(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4116:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]])},6224:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},1298:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},3711:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5051:function(e,t,s){Promise.resolve().then(s.bind(s,6285))},6285:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return PaymentLinksPage}});var a=s(7437),i=s(2265),n=s(4033),r=s(9598),l=s(3611),c=s(5831),d=s(3246),o=s(1628);let u=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});u.displayName="Textarea";var h=s(7532),x=s(1750),m=s(708),p=s(9883),y=s(4116),f=s(1298),j=s(6224),v=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,v.Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var k=s(3711),N=s(9409),b=s(5093),w=s(9083),P=s(1424);let C=[{id:"PL-001",title:"Product Purchase",amount:250,currency:"USD",method:"fiat",status:"active",link:"https://maya.pay/link/PL-001",createdAt:new Date("2024-01-15T10:30:00"),expiresAt:new Date("2024-02-15T10:30:00"),description:"Payment for premium subscription"},{id:"PL-002",title:"Crypto Payment",amount:.01,currency:"BTC",method:"crypto",status:"active",link:"https://maya.pay/link/PL-002",createdAt:new Date("2024-01-14T16:45:00"),expiresAt:new Date("2024-02-14T16:45:00"),description:"Bitcoin payment for digital goods"},{id:"PL-003",title:"Service Payment",amount:500,currency:"USDT",method:"crypto",status:"used",link:"https://maya.pay/link/PL-003",createdAt:new Date("2024-01-13T11:20:00"),expiresAt:new Date("2024-02-13T11:20:00")}];function PaymentLinksPage(){let{user:e,loading:t}=(0,b.useAuth)(),s=(0,n.useRouter)(),[o,v]=(0,i.useState)(C),[D,S]=(0,i.useState)("create"),[L,Z]=(0,i.useState)({title:"",amount:"",currency:"USD",method:"fiat",description:"",expiresIn:"30"});if((0,i.useEffect)(()=>{t||e||s.push("/login")},[e,t,s]),t)return(0,a.jsx)("div",{children:"Loading..."});if(!e)return null;let copyToClipboard=e=>{navigator.clipboard.writeText(e),P.Am.success("Link copied to clipboard!")},getStatusColor=e=>{switch(e){case"active":return"default";case"used":default:return"secondary";case"expired":return"destructive"}};return(0,a.jsx)(w.Z,{children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Links"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Create and manage payment links for your customers"})]})}),(0,a.jsxs)(x.mQ,{value:D,onValueChange:S,children:[(0,a.jsxs)(x.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(x.SP,{value:"create",children:"Create Link"}),(0,a.jsx)(x.SP,{value:"manage",children:"Manage Links"})]}),(0,a.jsx)(x.nU,{value:"create",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Create New Payment Link"}),(0,a.jsx)(r.SZ,{children:"Generate a secure payment link for both fiat and crypto payments"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t={id:"PL-".concat(String(o.length+1).padStart(3,"0")),title:L.title,amount:parseFloat(L.amount),currency:L.currency,method:L.method,status:"active",link:"https://maya.pay/link/PL-".concat(String(o.length+1).padStart(3,"0")),createdAt:new Date,expiresAt:new Date(Date.now()+864e5*parseInt(L.expiresIn)),description:L.description||void 0};v([t,...o]),Z({title:"",amount:"",currency:"USD",method:"fiat",description:"",expiresIn:"30"}),P.Am.success("Payment link created successfully!"),S("manage")},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"title",children:"Payment Title"}),(0,a.jsx)(c.I,{id:"title",placeholder:"e.g., Product Purchase",value:L.title,onChange:e=>Z({...L,title:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"amount",children:"Amount"}),(0,a.jsx)(c.I,{id:"amount",type:"number",step:"0.01",placeholder:"0.00",value:L.amount,onChange:e=>Z({...L,amount:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"method",children:"Payment Method"}),(0,a.jsxs)(h.Ph,{value:L.method,onValueChange:e=>{Z({...L,method:e,currency:"fiat"===e?"USD":"BTC"})},children:[(0,a.jsx)(h.i4,{children:(0,a.jsx)(h.ki,{})}),(0,a.jsxs)(h.Bw,{children:[(0,a.jsx)(h.Ql,{value:"fiat",children:"Fiat Payment"}),(0,a.jsx)(h.Ql,{value:"crypto",children:"Crypto Payment"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"currency",children:"Currency"}),(0,a.jsxs)(h.Ph,{value:L.currency,onValueChange:e=>Z({...L,currency:e}),children:[(0,a.jsx)(h.i4,{children:(0,a.jsx)(h.ki,{})}),(0,a.jsx)(h.Bw,{children:"fiat"===L.method?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Ql,{value:"USD",children:"USD"}),(0,a.jsx)(h.Ql,{value:"EUR",children:"EUR"}),(0,a.jsx)(h.Ql,{value:"INR",children:"INR"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Ql,{value:"BTC",children:"Bitcoin (BTC)"}),(0,a.jsx)(h.Ql,{value:"ETH",children:"Ethereum (ETH)"}),(0,a.jsx)(h.Ql,{value:"USDT",children:"Tether (USDT)"}),(0,a.jsx)(h.Ql,{value:"USDC",children:"USD Coin (USDC)"})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"expiresIn",children:"Expires In (Days)"}),(0,a.jsxs)(h.Ph,{value:L.expiresIn,onValueChange:e=>Z({...L,expiresIn:e}),children:[(0,a.jsx)(h.i4,{children:(0,a.jsx)(h.ki,{})}),(0,a.jsxs)(h.Bw,{children:[(0,a.jsx)(h.Ql,{value:"1",children:"1 Day"}),(0,a.jsx)(h.Ql,{value:"7",children:"7 Days"}),(0,a.jsx)(h.Ql,{value:"30",children:"30 Days"}),(0,a.jsx)(h.Ql,{value:"90",children:"90 Days"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d._,{htmlFor:"description",children:"Description (Optional)"}),(0,a.jsx)(u,{id:"description",placeholder:"Add a description for this payment...",value:L.description,onChange:e=>Z({...L,description:e.target.value}),rows:3})]}),(0,a.jsxs)(l.z,{type:"submit",className:"w-full maya-gradient text-white",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Create Payment Link"]})]})})]})}),(0,a.jsx)(x.nU,{value:"manage",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Payment Links"}),(0,a.jsx)(r.SZ,{children:"Manage your existing payment links and view their status"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[o.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("crypto"===e.method?"crypto-gradient":"fiat-gradient"),children:"crypto"===e.method?(0,a.jsx)(y.Z,{className:"w-5 h-5 text-white"}):(0,a.jsx)(f.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.amount," ",e.currency]})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["ID: ",e.id]}),(0,a.jsxs)("span",{children:["Created: ",e.createdAt.toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Expires: ",e.expiresAt.toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,a.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm flex-1",children:e.link}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>copyToClipboard(e.link),children:(0,a.jsx)(j.Z,{className:"w-4 h-4"})}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",children:(0,a.jsx)(g,{className:"w-4 h-4"})}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",children:(0,a.jsx)(k.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,a.jsx)(m.C,{variant:getStatusColor(e.status),children:e.status}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})})]})]})},e.id)),0===o.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No payment links created yet. Create your first payment link to get started."})]})})]})})]})]})})}},3246:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(7437),i=s(2265),n=s(6743),r=s(6061),l=s(1628);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(c(),s),...i})});d.displayName=n.f.displayName},1750:function(e,t,s){"use strict";s.d(t,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var a=s(7437),i=s(2265),n=s(164),r=s(1628);let l=n.fC,c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i})});c.displayName=n.aV.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(n.xz,{ref:t,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...i})});d.displayName=n.xz.displayName;let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});o.displayName=n.VY.displayName}},function(e){e.O(0,[884,424,502,586,595,639,971,472,744],function(){return e(e.s=5051)}),_N_E=e.O()}]);